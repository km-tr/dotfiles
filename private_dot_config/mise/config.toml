[tools]
bun = "1.3.2"
node = "22.16.0"

[settings]
idiomatic_version_file_enable_tools = ["node"]

[tasks.copy-local-files]

run = """
#!/usr/bin/env bash

SRC=~/hoge/auto_reserve_front
DEST="$(pwd)"

(
  cd "$SRC"
  find . \\( -type d \\( -name node_modules -o -name .git -o -name .history \\) -prune \\) -o \
         \\( -type f -o -type l \\) \\( \
            -name '.env' -o \
            -path './.vscode/*' -o \
            \\( -name '*.local' -a ! -name '.xcode.env.local' \\) -o \
            -name '*.local.md' -o \
            -name '.mise.local.toml' -o \
            -name '.cursorrules' -o \
            -name 'AGENTS.md' -o \
            -path './*/local/*.md' -o \
            -path './*/.vercel/*' -o \
            -path './.cursor/*' -o \
            -path './.serena/*' -o \
            -name '*.local.json' \
         \\) -print0
) | rsync -av --from0 --relative --files-from=- "$SRC/" "$DEST/"
"""
