if status --is-interactive
  set -gx EDITOR vim

  {{ if (eq .chezmoi.arch "arm64") }}
  # brew
  eval (/opt/homebrew/bin/brew shellenv)
  {{ end }}

  # env
  shadowenv init fish | source
  direnv hook fish | source
  eval (nodenv init - | source)
  eval (rbenv init - | source)
  eval (goenv init - | source)

  # android studio
  set -gx ANDROID_HOME $HOME/Library/Android/sdk

  # homebrew
  {{ if (eq .chezmoi.hostname "km-work") }}
  set -gx HOMEBREW_GITHUB_API_TOKEN {{ keyring "github" "npm-token" }}
  {{ end }}

  # zoxide
  zoxide init fish | source
end
