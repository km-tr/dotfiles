if status --is-interactive
  set -gx EDITOR vim

  # homebrew
  {{ if (eq .chezmoi.arch "arm64") }}
  # brew
  eval (/opt/homebrew/bin/brew shellenv)
  {{ end }}

  if test -f (brew --prefix)/etc/brew-wrap.fish
    source (brew --prefix)/etc/brew-wrap.fish
  end

  # env
  direnv hook fish | source
  source (brew --prefix asdf)/libexec/asdf.fish

  # android studio
  set -gx ANDROID_HOME $HOME/Library/Android/sdk
  fish_add_path $ANDROID_HOME/emulator
  fish_add_path $ANDROID_HOME/platform-tools

  # zoxide
  zoxide init fish | source

  printf '\eP$f{"hook": "SourcedRcFileForWarp", "value": { "shell": "fish" }}\x9c'
end
